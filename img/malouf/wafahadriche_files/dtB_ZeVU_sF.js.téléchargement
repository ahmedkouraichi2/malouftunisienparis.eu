;/*FB_PKG_DELIM*/

__d("MWPThemeCSSProvider.react",["BaseTheme.react","I64","MWLSThread","MWLSThreadDisplayContext","MWPThreadThemeGradientUtils","MWThreadKey.react","MWV2IsTabFocusedContext.react","cr:6795","gkx","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useMemo,l={expand:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",$$css:!0}},m=(e=b("cr:6795"))!=null?e:function(){return null};function a(a){var b,e=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="ChatTab";e=d("MWV2IsTabFocusedContext.react").useIsTabFocused()||!e;var f=c("useMWPThreadTheme")(),g=d("MWPThreadThemeGradientUtils").getTopGradientColor(f),h=m(e);b=(b=d("MWLSThread").useThread(d("MWThreadKey.react").useMWThreadKeyMemoized(),function(a){return(i||(i=d("I64"))).lt(a.lastReadWatermarkTimestampMs,a.lastActivityTimestampMs)}))!=null?b:!1;b=b&&!e;var n=c("gkx")("1969")&&f.threadTheme.backgroundUrl!=null&&f.threadTheme.backgroundUrl.length>0,o,p,q;h!=null&&!b?(o=h.buttonColor,p=h.backgroundColor,q=h.textColor):b?(o="var(--always-white)",q="var(--always-white)",p=g):(o=e?g:"var(--disabled-icon)",p=void 0);f=k(function(){var a={};o!=null&&(a["mwp-header-button-color"]=o);q!=null&&(a["mwp-header-text-color"]=q);p!=null&&(a["mwp-header-background-color"]=p);n&&(a["mwp-message-row-background"]="transparent");return a},[o,q,p,n]);return j.jsx(c("BaseTheme.react"),babelHelpers["extends"]({},a,{config:{dark:f,light:f,type:"VARIABLES"},xstyle:[l.expand,a.xstyle]}))}a.displayName=a.name+" [from "+f.id+"]";g.MWPThemeCSSProvider=a}),98);
__d("MWPThreadThemeProvider.react",["I64","Int64Hooks","LSIntEnum","MWPThemeCSSProvider.react","MWPThreadThemeContext","MessengerThreadThemeGradientType","ReQL","ReQLSuspense","cr:6797","defaultMWPThreadTheme","react","useCurrentDisplayMode","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));e=k;var m=e.useMemo,n=e.useState;function o(a,e){var g=(h||(h=c("useReStore")))(),k=c("useCurrentDisplayMode")(),l=d("ReQLSuspense").useFirst(function(){return a==null?d("ReQL").empty():d("ReQL").fromTableAscending(g.table("thread_themes")).getKeyRange(a)},[g,a],f.id+":41"),n=b("cr:6797")==null?void 0:b("cr:6797")(g,a),o=k==="dark"&&n!=null?n:l,p=d("ReQLSuspense").useArray(function(){return(o==null?void 0:o.fbid)==null?d("ReQL").empty():d("ReQL").fromTableAscending(g.table("gradient_colors")).getKeyRange(o==null?void 0:o.fbid)},[g,o==null?void 0:o.fbid],f.id+":55");return m(function(){return o!=null?{incomingGradientColors:p.filter(function(a){return(i||(i=d("I64"))).equal(a.type_,(j||(j=d("LSIntEnum"))).ofNumber(c("MessengerThreadThemeGradientType").MESSAGE_BUBBLE_INBOUND))}),outgoingGradientColors:p.filter(function(a){return(i||(i=d("I64"))).equal(a.type_,(j||(j=d("LSIntEnum"))).ofNumber(c("MessengerThreadThemeGradientType").MESSAGE_BUBBLE_OUTBOUND))}),threadTheme:o}:e},[o,p,e])}var p={incomingGradientColors:[],outgoingGradientColors:[],threadTheme:c("defaultMWPThreadTheme")};function a(a){var b=a.children,c=a.defaultTheme;c=c===void 0?p:c;var e=a.themeFbid;a=n();var f=a[0],g=a[1];a=d("Int64Hooks").useMemoInt64(function(){var a;return(a=f)!=null?a:e},[e,f]);var h=o(a,c);a=d("Int64Hooks").useMemoInt64(function(){return{incomingGradientColors:h.incomingGradientColors,outgoingGradientColors:h.outgoingGradientColors,previewId:f,setPreviewId:g,threadTheme:h.threadTheme}},[h,f]);return l.jsx(d("MWPThreadThemeContext").MWPThreadThemeContext.Provider,{value:a,children:l.jsx(d("MWPThemeCSSProvider.react").MWPThemeCSSProvider,{children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);